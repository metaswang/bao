server:
  port: ${PORT:8000}
  cors:
    enabled: True
    allow_origins: ["*"]
    allow_methods: ["*"]
    allow_headers: ["*"]
  auth:
    enabled: true
    # python -c 'import base64; print("Basic " + base64.b64encode("secret:key".encode()).decode())'
    # 'secret' is the username and 'key' is the password for basic auth by default
    # If the auth is enabled, this value must be set in the "Authorization" header of the request.
    secret: ${APP_SECRET}

crawler:
  source_type: youtube
  output_dir: data/youtube_lessons
  whisper_model: small
  transcript_merge_size: 300
  youtube_short_url_domain: "https://youtu.be"  
  youtube_url_domain: "https://www.youtube.com"
  youtube_short_url_domain: "https://youtu.be"

injest:
  chunk_size: 500
  chunk_overlap: 50
  injest_from: data/youtube_lessons
  injest_from: data/youtube_lessons
  default_topic: bao

llm:
  mode: openai
  max_new_tokens: 512
  context_window: 3900

embedding:
  mode: local
  embedding_size: 768

vectorstore:
  database: qdrant

qdrant:
  path: data/qdrant_store_test
  force_disable_check_same_thread: true

local:
  embedding_hf_model_name: intfloat/multilingual-e5-base

openai:
  api_key: ${OPENAI_API_KEY}
  eco_model: gpt-3.5-turbo-0125
  super_model: gpt-4-0125-preview

google_api:
  api_key: ${GOOGLE_API_KEY}
  model: gemini-pro

reranker:
  enabled: true
  cohere:
    api_key: ${COHERE_API_KEY}  
    k: 4
    model: rerank-multilingual-v2.0

web_chat:
  enabled: true
  title: "Your Youtube Asistant"
  header_color: "#6264f5"
  path: "/chatbot"
  path: "/baobot"
  btn_undo: "â†©ï¸ Delete Previous"
  btn_clear: "ğŸ—‘ï¸  Clear"
  btn_submit: "Submit"
  work_mode_label: "Mode"
  work_modes: 
    - "Ask Question"
    - "Search"
  max_history_message_len: 50
  max_history_len: 3
  frequently_asked_questions:
   - "Question 1"
   - "Question 2"
   - "Question 3"
  btn_undo: "Delete Previous"
  btn_clear: "Clear"
  btn_submit: "Submit"
  work_mode_label: ""
  work_modes: "Mode"
   - "Ask Question"
   - "Search"

discord:
  discord_token: ${DISCORD_TOKEN}
  bot_id: ${DISCORD_BOT_ID}
  chat_history_ttl: 3600
  max_history_len: 5
  max_history_message_len: 100
  fallback_message: >
   (âŠ™ï¼¿âŠ™') æˆ‘æ²¡æœ‰æ‰¾åˆ°ç›¸å…³èµ„æ–™ã€‚å¦‚æœä½ æœ‰å…¶å®ƒé—®é¢˜ï¼Œè¯·éšæ—¶æå‡ºã€‚  Sorry, I couldn't find relevant information to answer your question. If you have any other questions, please feel free to ask.  
   âœŒ(-â€¿-)âœŒ  âœŒ(-â€¿-)âœŒ  âœŒ(-â€¿-)âœŒ  âœŒ(-â€¿-)âœŒ   
   æƒ³è¦æœç´¢èµ„æ–™? è¯·åœ¨é—®é¢˜å‰åŠ ä¸Š /s 
   å¦‚è¦æé—®ï¼Œè¯·ç›´æ¥é—®æˆ‘ ğŸ˜¯  
  frequently_asked_questions:
   - "Question 1?"
   - "Question 2?"
   - "Question 3?"

retriever:
  k: 10
  collection_name: bao
  score_threshold: 0.83
  metadata:
    video: str
    pub_date: str
    source: str
    title: str
    start_at: int
    pub_year: str
    pub_year_month: str
    topic: str
    chunk_no: int


chain_templates:
  intent_classify_model: gpt-3.5
  # remember to customise below according to the topics existed in your real senarios
  intent_classify_template: >
    Do not answer the question. Instead, you need to follow below steps to generate a JSON object with following fields to classify the question: type: â€œgreetingâ€, "MY Category", Others" (string) confidence: 0.0 to 1.0 (float)
    Steps:
    1.Intention classification rules, blabla
    2.å½“æœ‰å¦‚ä¸‹æ„å‘æ—¶å½’ç±»ä¸º"greeting":
      abc
    4.å½“ç¬¦åˆå¦‚ä¸‹æ„å‘æ—¶å½’ç±»ä¸º"My Class":
      cde
    5.å½“ä¸ç¡®å®šæˆ–ä¸èƒ½å½’ä¸ºä¸Šé¢çš„ç±»åˆ«æ—¶ï¼Œå½’ç±»ä¸º"Others"ï¼Œæ¯”å¦‚ï¼š
      def
      å…¶å®ƒé—®é¢˜
  answer_model: gpt-3.5-instruct
  answer_template: >
    ä½ æ˜¯ä¸€ä½é˜…è¯»åˆ†æå’Œå†™ä½œé¢†åŸŸçš„ä¸“å®¶ã€‚è¯·ä»…ä½¿ç”¨ä»¥ä¸‹ä»£ç å—ä¸­çš„å†…å®¹å›ç­”é—®é¢˜ï¼Œè¦æ±‚å‡†ç¡®ã€‚å¦‚æœä½ ä¸çŸ¥é“ç­”æ¡ˆï¼Œè¯·ä¸è¦å›å¤ã€‚\nContext:```{context}```
  greeting_model: gemini
  greeting_template: >
    ä½ æ˜¯æ–‡æ¡£èŠå¤©æœºå™¨äººBob ï¼Œè¯·æ ¹æ®ä¸‰é‡åå¼•å·ä¸­çš„å†…å®¹å›ç­”ç”¨æˆ·çš„æé—®ï¼Œåœ¨å›ç­”çš„æœ€åå¦‚æœæœ‰å¿…è¦ä½ å¯ä»¥æ ¹æ®å¦‚ä¸‹ä¸‰é‡åå¼•å·ä¸­çš„ä¿¡æ¯è¯¦ç»†ä»‹ç»è‡ªå·±ï¼Œå¹¶å‘Šè¯‰ç”¨æˆ·æ€ä¹ˆæé—®ã€‚
    ä½ çš„å›ç­”å¯ä»¥æ˜¯markdownæ ¼å¼ï¼Œè¦æ±‚å›ç­”å…¨é¢å’Œæ¸…æ™°ã€‚å¦‚æœä¸æ¸…æ¥šï¼Œè¯·ä¸è¦å›ç­”ï¼š
    ```æˆ‘çš„åå­—æ˜¯Bob 
    blablabla
    ```
    Input: {question}
    Output:

  query_rewrite_model: gpt-3.5-instruct
  query_rewrite_template: >
    DO NOT answer the question. Instead, you need to follow below steps one by one to generate a valid JSON object with following fields:
    1.If there exists a explicit date to describeç›´æ’­,è§†é¢‘, please store it in "pub-date" in the format yyyyMMdd. Otherwise, do not extract it.
    2.if there exists a explicit year numbers to describeç›´æ’­,è§†é¢‘ï¼Œè¯·å°†å…¶ä»¥yyyyæ ¼å¼å­˜å…¥ "pub-year". Otherwise, do not extract it.
    3.if there exists a explicit year and month to describeç›´æ’­,è§†é¢‘ï¼Œè¯·å°†å…¶ä»¥yyyyMMæ ¼å¼å­˜å…¥ "pub-year-month". Otherwise, do not extract it.
    Noteï¼Œeach character in the value of "pub-date", "pub-year", "pub-year-month" should be in '0'-'9'
    4.å¦‚æœæœ‰ç›´æ’­æˆ–è§†é¢‘æ’­æ”¾é“¾æ¥ï¼Œè¯·æå–å¹¶å­˜å…¥ "video"ï¼Œå¦åˆ™ä¸è¦æå–
    5.æ„å»ºä¸€ä¸ªå¯ä»¥åœ¨æ²¡æœ‰èŠå¤©å†å²çš„æƒ…å†µä¸‹å¯è¢«ç†è§£çš„ç‹¬ç«‹é—®é¢˜ã€‚ä¸è¦å›ç­”é—®é¢˜ï¼Œåªéœ€é‡æ–°æ„é€ å®ƒ,æ”¾å…¥ "query". You need to remove any date,year, month and links from "query"
    7.Ensemble the above fields into a valid json object then return it.